<mat-card class="secondary shadow">
  <app-date-picker class="secondary" (month)="changeMonth($event)" (year)="changeYear($event)"></app-date-picker>
  <table class="header secondary">
    <thead>
        <tr >
          <th class="day"></th>
          @for (day of days; track day) {
            <th class="day">{{ day }}</th>
          }
        </tr>
    </thead>
  </table>
  <div class="table-scroll">
    <table>
    <tbody>
        @for (camperPlace of camperPlaces$ | async; track camperPlace) {
          <tr>
            <th>{{camperPlace.index}}</th>
            @for (day of days; track day) {
              <td>
                <div  #data [ngClass]="{
                'data': true,
                'reserved': isDayReserved(year, month, day, camperPlace)
                }">
                  <div #left
                    [ngClass]="{
                      'cell': true,
                      'left': true,
                      'nextToCheckout':isCheckin(year, month, day, camperPlace),
                    }"></div>
                  <div #right
                     [ngClass]="{
                      'cell': true,
                      'right': true,
                      'nextToCheckin':  isCheckout(year, month, day, camperPlace),
                    }" (click)="popupFormService.openCreateReservationFormPopup(year, month, day,camperPlace.index)"></div>
                </div>
              </td>
            }
          </tr>
        }
      </tbody>
    </table>
  </div>
</mat-card>

